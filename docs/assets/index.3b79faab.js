var w=Object.defineProperty,B=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var k=(e,o,r)=>o in e?w(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,b=(e,o)=>{for(var r in o||(o={}))S.call(o,r)&&k(e,r,o[r]);if(f)for(var r of f(o))N.call(o,r)&&k(e,r,o[r]);return e},g=(e,o)=>B(e,R(o));var y=(e,o)=>{var r={};for(var n in e)S.call(e,n)&&o.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&f)for(var n of f(e))o.indexOf(n)<0&&N.call(e,n)&&(r[n]=e[n]);return r};import{j as L,C as M,r as l,a as T,T as E,R as H,b as I}from"./vendor.de6ebe7f.js";const G=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerpolicy&&(s.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?s.credentials="include":c.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(c){if(c.ep)return;c.ep=!0;const s=r(c);fetch(c.href,s)}};G();const t=L.exports.jsx,p=L.exports.jsxs,j=()=>t(M,{className:"backdrop",timeout:500,children:t("div",{className:"backdrop"})});const F=r=>{var n=r,{children:e}=n,o=y(n,["children"]);return t("footer",g(b({},o),{className:"popup-footer-content",children:e}))},q=r=>{var n=r,{children:e}=n,o=y(n,["children"]);return t("header",g(b({},o),{className:"popup-header-content",children:e}))},W=document.getElementById("portal"),D=({open:e,onClose:o,children:r,backdrop:n=!0})=>{if(!e)return null;const{header:c,footer:s,content:a}=l.exports.useMemo(()=>l.exports.Children.toArray(r).reduce((i,m)=>(m.type===q?i.header=m:m.type===F?i.footer=m:i.content.push(m),i),{header:null,footer:null,content:[]}),[r]);return T.exports.createPortal(p("div",{className:"popup",children:[n&&t(j,{}),p("div",{className:"popup-wrapper",children:[p("div",{className:"popup-header",children:[c,t("button",{className:"popup-close",onClick:o,children:"\u292C"})]}),t("div",{className:"popup-content",children:a}),t("div",{className:"popup-footer",children:s})]})]}),W)},d=Object.assign(D,{Header:q,Footer:F}),Y={next:e=>{},prev:e=>{}},C=l.exports.createContext(Y),K=C.Provider;C.Consumer;const x=l.exports.memo(({children:e})=>{const o=l.exports.useContext(C);return e(o)});function P(e,o=0,r=1){return Math.max(o,Math.min(e,r))}const $=({children:e,onClose:o,onSubmit:r,startFrom:n=0,stepsOnScreen:c=1})=>{const[s,a]=l.exports.useState(n);console.log("\x1B[45m[LOG]\x1B[49m ~ index",s);const i=l.exports.useMemo(()=>l.exports.Children.toArray(e).filter(u=>u.type===x),[e]),m=l.exports.useMemo(()=>{const u=s+1,h=Math.max(u-c,0);return i.slice(h,u)},[i,s]),O=l.exports.useCallback(u=>a(typeof u=="number"?P(u,-1,i.length):h=>Math.min(h+1,i.length)),[i]),A=l.exports.useCallback(u=>a(typeof u=="number"?P(u,-1,i.length):h=>Math.max(h-1,-1)),[i]);return l.exports.useEffect(()=>{if(i.length!==0){if(s===-1){o();return}if(s===i.length){r();return}}},[s]),t(K,{value:{prev:A,next:O},children:t(E,{children:m.map(u=>t(M,{classNames:"step",timeout:500,children:u},u.props.id))})})};const v={background:"#ccc",justifyContent:"flex-end",columnGap:4},z=["tomato","deepskyblue"],J=["You refused to go through all the steps","You went through all the steps"];function Q(){const[e,o]=l.exports.useState(-1),[r,n]=l.exports.useState(!1),c=l.exports.useCallback(()=>o(0),[]),s=l.exports.useCallback(()=>o(1),[]);return p("div",{className:"app",style:{background:z[e]},children:[e<0?t("button",{onClick:()=>n(!0),children:"Start"}):t("p",{children:J[e]}),r&&e<0&&t(j,{}),p($,{onClose:c,onSubmit:s,children:[r&&t(x,{id:0,children:({prev:a,next:i})=>p(d,{open:!0,onClose:a,backdrop:!1,children:[t(d.Header,{children:"First popup"}),p("main",{style:{maxWidth:400,padding:"8px 0"},children:[t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."}),t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."}),t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."})]}),p(d.Footer,{style:v,children:[t("button",{onClick:()=>i(3),children:"Finish"}),t("button",{onClick:()=>i(),children:"Next"})]})]})}),r&&t(x,{id:1,children:({prev:a,next:i})=>p(d,{open:!0,onClose:a,backdrop:!1,children:[t(d.Header,{children:"Second popup"}),p("main",{style:{maxWidth:400,padding:"8px 0"},children:[t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."}),t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."})]}),p(d.Footer,{style:v,children:[t("button",{onClick:()=>i(-1),children:"Abort"}),t("button",{onClick:()=>i(3),children:"Finish"}),t("button",{onClick:()=>i(),children:"Next"})]})]})}),r&&t(x,{id:2,children:({prev:a,next:i})=>p(d,{open:!0,onClose:a,backdrop:!1,children:[t(d.Header,{children:"Third popup"}),t("main",{style:{maxWidth:400,padding:"8px 0"},children:t("p",{style:{margin:0},children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Pariatur facilis consectetur excepturi ullam mollitia totam dolore similique provident enim fugiat dicta animi voluptatum, sunt porro, optio nesciunt eius, ab obcaecati."})}),p(d.Footer,{style:v,children:[t("button",{onClick:()=>i(-1),children:"Abort"}),t("button",{onClick:()=>i(0),children:"To start"}),t("button",{onClick:()=>i(),children:"Next"})]})]})})]})]})}H.render(t(I.StrictMode,{children:t(Q,{})}),document.getElementById("root"));
